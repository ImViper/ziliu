# 字流发布预设功能

## 🎯 功能概述

发布预设功能可以帮你保存常用的发布配置，避免每次发布公众号文章时重复填写相同的信息。一次设置，多次使用，大大提升发布效率。

## ✨ 功能特性

### 预设管理
- ✅ 创建多个发布预设
- ✅ 编辑和删除预设
- ✅ 设置默认预设
- ✅ 预设名称自定义

### 支持的预设项
- ✅ **作者信息** - 自动填充作者名称
- ✅ **原创设置** - 自动勾选/取消原创标记
- ✅ **赞赏设置** - 记录赞赏偏好设置
- ✅ **自动封面** - 记录是否自动选择封面
- ✅ **自动摘要** - 记录是否自动生成摘要
- ✅ **精选文章列表** - 自动在文章末尾添加推荐阅读
- ✅ **末尾定制卡片** - 支持定制图文内容卡片
- ✅ **公众号卡片插入** - 插入其他公众号的推荐卡片

### Chrome插件集成
- ✅ 插件中选择预设
- ✅ 一键应用所有预设配置
- ✅ 自动填充到公众号编辑器

## 🚀 使用指南

### 1. 创建预设

1. 访问 [字流工作台](http://localhost:3000/dashboard)
2. 点击"发布预设"卡片，进入预设管理页面
3. 点击"新建预设"按钮
4. 填写预设信息：
   - **预设名称**：例如"技术文章预设"、"生活分享预设"
   - **作者名称**：你的笔名或真实姓名
   - **发布设置**：选择原创、赞赏、留言等选项
   - **其他信息**：创作来源、原文链接等
5. 点击"创建预设"保存

### 2. 管理预设

在预设管理页面，你可以：
- **查看所有预设**：显示预设名称和主要配置
- **编辑预设**：点击编辑按钮修改预设
- **设为默认**：点击星标按钮设为默认预设
- **删除预设**：点击删除按钮移除不需要的预设

### 3. 使用预设发布

1. 在字流网站创建或编辑文章
2. 打开微信公众号编辑器页面
3. 点击Chrome插件图标
4. 在插件中：
   - 选择要发布的文章
   - 选择要使用的预设（默认选中默认预设）
   - 点击文章标题发布
5. 插件会自动：
   - 填充文章标题和内容
   - 应用预设中的作者信息
   - 设置原创状态
   - 应用其他预设配置

## 📋 预设示例

### 技术文章预设
```
预设名称：技术文章预设
作者名称：孟健
原创设置：✅ 是
赞赏设置：❌ 否
自动封面：✅ 是
自动摘要：✅ 是
精选文章：2篇相关技术文章
定制卡片：个人技术博客推广卡片
公众号卡片：推荐其他技术公众号
```

### 生活分享预设
```
预设名称：生活分享预设
作者名称：孟健
原创设置：✅ 是
赞赏设置：✅ 是
自动封面：✅ 是
自动摘要：❌ 否
精选文章：3篇生活感悟文章
定制卡片：个人微信群邀请卡片
公众号卡片：无
```

## 🔧 技术实现

### 数据库设计
- 新增 `publish_presets` 表存储预设信息
- 支持用户多预设管理
- 包含完整的发布配置字段

### API接口
- `GET /api/presets` - 获取用户预设列表
- `POST /api/presets` - 创建新预设
- `PUT /api/presets/:id` - 更新预设
- `DELETE /api/presets/:id` - 删除预设
- `POST /api/presets/:id/set-default` - 设置默认预设

### Chrome插件增强
- 预设选择器界面
- 预设信息传递到content script
- 自动填充公众号编辑器字段

## 🎉 使用效果

**使用前**：每次发布需要手动填写
- 作者信息
- 原创设置
- 赞赏设置
- 留言设置
- 其他配置项

**使用后**：一键应用所有配置
- 选择预设 → 自动填充所有信息
- 节省时间 → 专注内容创作
- 减少错误 → 配置一致性保证

## 🔮 后续规划

- [ ] 精选文章管理
- [ ] 封面设置预设
- [ ] 智能预设推荐
- [ ] 预设模板导入导出
- [ ] 批量发布功能

## 💡 使用建议

1. **创建多个预设**：为不同类型的文章创建专门的预设
2. **设置默认预设**：将最常用的配置设为默认
3. **定期更新**：根据发布习惯调整预设配置
4. **备份重要预设**：记录重要预设的配置信息

---

通过发布预设功能，让你的公众号发布工作更加高效、便捷！🚀
